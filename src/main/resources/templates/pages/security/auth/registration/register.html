<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/plain :: plainLayout('Register', ~{::#content})}">
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Sign In | JSM - Job Scheduler and Monitoring</title>
</head>
<body>

<div class="col-md-6" id="content">
  <div class="card mx-4">
    <div class="card-body p-4">
      <h1>Register</h1>
      <p class="text-muted">Create your account</p>
      <p class="text-muted">Account registration is enabled only once during application
        setup</p>

      <div class="col-md-12" th:if="${error}">
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <span th:text="${error}"></span>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </div>

      <form th:action="@{/register}" method="post" th:object="${dto}">

        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="c-icon cil-authUser"></i></span>
          </div>
          <input class="form-control"
                 th:classappend="${#fields.hasErrors('name')? 'is-invalid' : ''}" required
                 type="text" placeholder="Name" th:field="*{name}">
          <div class="invalid-feedback" th:if="${#fields.hasErrors('name')}"
               th:errors="*{name}">
          </div>
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="c-icon cil-authUser"></i></span>
          </div>
          <input class="form-control"
                 th:classappend="${#fields.hasErrors('username')? 'is-invalid' : ''}" required
                 type="text" placeholder="Username" th:field="*{username}">
          <div class="invalid-feedback" th:if="${#fields.hasErrors('username')}"
               th:errors="*{username}">
          </div>
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="c-icon cil-envelope-open"></i></span>
          </div>
          <input class="form-control"
                 th:classappend="${#fields.hasErrors('email')? 'is-invalid' : ''}" required
                 type="text" placeholder="Email" th:field="*{email}">
          <div class="invalid-feedback" th:if="${#fields.hasErrors('email')}"
               th:errors="*{email}">
          </div>
        </div>
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="c-icon cil-lock-locked"></i></span>
          </div>
          <input class="form-control"
                 th:classappend="${#fields.hasErrors('password')? 'is-invalid' : ''}" required
                 type="password" placeholder="Password" th:field="*{password}">
          <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}"
               th:errors="*{password}">
          </div>
        </div>
        <div class="input-group mb-4">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="c-icon cil-lock-locked"></i></span></div>
          <input class="form-control"
                 th:classappend="${#fields.hasErrors('password')? 'is-invalid' : ''}" required
                 type="password" placeholder="Repeat password" th:field="*{verifyPassword}">
          <div class="invalid-feedback" th:if="${#fields.hasErrors('password')}"
               th:errors="*{password}">
          </div>
        </div>
        <button class="btn btn-block btn-success" type="submit">Register Account</button>
      </form>
    </div>
  </div>
</div>
</body>
</html>
