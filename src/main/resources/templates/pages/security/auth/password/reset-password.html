<!DOCTYPE html>

<html lang="en" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout/plain :: plainLayout('Reset Password', ~{::#content})}">
<meta http-equiv="content-type" content="text/html;charset=utf-8"/>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Sign In | JSM - Job Scheduler and Monitoring</title>
</head>
<body>

<div class="col-md-6" id="content">
  <div class="card mx-4">
    <div class="card-body p-4">
      <h1>Reset Password</h1>
      <div th:if="${error}">
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          <span th:text="${error}"></span>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      </div>

      <form th:action="@{/reset-password}" method="post" th:object="${dto}">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="c-icon cil-lock-locked"></i></span>
          </div>
          <input class="form-control"
                 th:classappend="${#fields.hasErrors('newPassword')? 'is-invalid' : ''}"
                 required
                 type="password" placeholder="Password" th:field="*{newPassword}">
          <div class="invalid-feedback" th:if="${#fields.hasErrors('newPassword')}"
               th:errors="*{newPassword}">
          </div>
        </div>
        <div class="input-group mb-4">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="c-icon cil-lock-locked"></i></span></div>
          <input class="form-control"
                 th:classappend="${#fields.hasErrors('newPassword')? 'is-invalid' : ''}"
                 required
                 type="password" placeholder="Repeat password" th:field="*{verifyPassword}">
          <div class="invalid-feedback" th:if="${#fields.hasErrors('newPassword')}"
               th:errors="*{newPassword}">
          </div>
        </div>
        <input type="hidden" th:field="*{token}">
        <input type="hidden" th:field="*{userId}">
        <button class="btn btn-block btn-success" type="submit">Reset Password</button>
      </form>
    </div>
  </div>
</div>
</body>
</html>